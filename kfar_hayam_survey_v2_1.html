<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>×¡×§×¨ ×“×™×™×¨×™× | ×›×¤×¨ ×”×™× 2026</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Segoe UI', Arial, sans-serif; background: linear-gradient(135deg, #0a3d5c 0%, #1a6b8a 50%, #0d8f8f 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }
  .card { background: white; border-radius: 20px; max-width: 680px; width: 100%; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden; }
  .header { background: linear-gradient(135deg, #0a3d5c, #1a6b8a); color: white; padding: 28px 32px 20px; }
  .logo-area { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
  .logo-text { font-size: 22px; font-weight: 700; letter-spacing: 1px; }
  .lang-buttons { display: flex; gap: 8px; }
  .lang-btn { background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.4); color: white; padding: 5px 12px; border-radius: 20px; cursor: pointer; font-size: 13px; transition: all 0.2s; }
  .lang-btn.active, .lang-btn:hover { background: rgba(255,255,255,0.9); color: #0a3d5c; }
  .header h1 { font-size: 18px; font-weight: 600; opacity: 0.95; }
  .header-sub { font-size: 13px; opacity: 0.85; margin-top: 6px; line-height: 1.5; }
  .progress-wrap { background: rgba(255,255,255,0.15); border-radius: 10px; height: 8px; margin-top: 16px; overflow: hidden; }
  .progress-bar { background: #4dd9c0; height: 100%; border-radius: 10px; transition: width 0.4s ease; }
  .progress-label { font-size: 12px; opacity: 0.8; margin-top: 6px; }
  .body { padding: 32px; }
  .step { display: none; }
  .step.active { display: block; }
  .step-label { font-size: 12px; color: #1a6b8a; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; }
  .question { font-size: 18px; font-weight: 600; color: #0a3d5c; margin-bottom: 8px; line-height: 1.5; }
  .subtitle { font-size: 13px; color: #555; margin-bottom: 20px; line-height: 1.6; }
  .info-box { font-size: 13px; color: #444; margin-bottom: 20px; line-height: 1.7; background: #f8f8f8; padding: 14px 16px; border-radius: 10px; border: 1px solid #dde8f0; }
  .options { display: flex; flex-direction: column; gap: 10px; margin-bottom: 28px; }
  .option { border: 2px solid #e0e8f0; border-radius: 12px; padding: 14px 18px; cursor: pointer; transition: all 0.2s; font-size: 15px; color: #333; display: flex; align-items: center; gap: 12px; }
  .option:hover { border-color: #1a6b8a; background: #f0f8ff; }
  .option.selected { border-color: #1a6b8a; background: #e8f4ff; color: #0a3d5c; font-weight: 500; }
  .option .check { width: 22px; height: 22px; border-radius: 50%; border: 2px solid #ccc; flex-shrink: 0; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
  .option.selected .check { background: #1a6b8a; border-color: #1a6b8a; }
  .option.selected .check::after { content: 'âœ“'; color: white; font-size: 13px; font-weight: bold; }
  .option.multi .check { border-radius: 5px; }
  .multi-note { font-size: 12px; color: #888; margin-bottom: 14px; margin-top: -6px; }
  textarea { width: 100%; border: 2px solid #e0e8f0; border-radius: 12px; padding: 14px; font-size: 15px; font-family: inherit; resize: vertical; min-height: 100px; direction: inherit; outline: none; transition: border-color 0.2s; margin-bottom: 28px; }
  textarea:focus { border-color: #1a6b8a; }
  .nav { display: flex; justify-content: space-between; align-items: center; gap: 12px; }
  .btn { padding: 13px 28px; border-radius: 12px; border: none; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
  .btn-next { background: linear-gradient(135deg, #1a6b8a, #0d8f8f); color: white; flex: 1; }
  .btn-next:hover { opacity: 0.9; transform: translateY(-1px); }
  .btn-next:disabled { opacity: 0.4; cursor: not-allowed; transform: none; }
  .btn-back { background: #f0f4f8; color: #555; padding: 13px 20px; }
  .btn-back:hover { background: #e0e8f0; }
  .section-intro { background: linear-gradient(135deg, #f0f8ff, #e8f4ff); border-radius: 14px; padding: 24px; margin-bottom: 24px; text-align: center; border: 1px solid #cce0f0; }
  .section-intro .icon { font-size: 36px; margin-bottom: 10px; }
  .section-intro h2 { color: #0a3d5c; font-size: 20px; margin-bottom: 8px; }
  .section-intro p { color: #555; font-size: 14px; line-height: 1.6; }
  .field-group { margin-bottom: 20px; }
  .field-label { font-size: 14px; font-weight: 600; color: #0a3d5c; margin-bottom: 8px; }
  .text-input { width: 100%; border: 2px solid #e0e8f0; border-radius: 12px; padding: 14px 18px; font-size: 16px; outline: none; transition: border-color 0.2s; font-family: inherit; }
  .text-input:focus { border-color: #1a6b8a; }
  .privacy-note { font-size: 12px; color: #aaa; margin-top: 6px; }
  .verify-toggle { display: flex; gap: 12px; margin-bottom: 16px; }
  .verify-tab { flex: 1; padding: 10px; border: 2px solid #e0e8f0; border-radius: 10px; text-align: center; cursor: pointer; font-size: 14px; color: #555; transition: all 0.2s; }
  .verify-tab.active { border-color: #1a6b8a; background: #e8f4ff; color: #0a3d5c; font-weight: 600; }
  .verify-field { display: none; }
  .verify-field.active { display: block; }
  .rank-list { display: flex; flex-direction: column; gap: 8px; margin-bottom: 28px; }
  .rank-item { border: 2px solid #e0e8f0; border-radius: 12px; padding: 12px 16px; display: flex; align-items: center; gap: 12px; cursor: grab; background: white; transition: all 0.2s; user-select: none; }
  .rank-item:hover { border-color: #1a6b8a; background: #f0f8ff; }
  .rank-item.dragging { opacity: 0.5; border-color: #1a6b8a; }
  .rank-num { width: 28px; height: 28px; border-radius: 50%; background: #1a6b8a; color: white; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 700; flex-shrink: 0; }
  .rank-num.empty { background: #e0e8f0; color: #999; }
  .rank-text { font-size: 14px; color: #333; flex: 1; }
  .rank-handle { color: #ccc; font-size: 18px; }
  .rank-note { font-size: 12px; color: #888; margin-bottom: 12px; }
  .thank-you { text-align: center; padding: 20px 0; }
  .thank-you .big-check { width: 80px; height: 80px; background: linear-gradient(135deg, #1a6b8a, #0d8f8f); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 36px; color: white; }
  .thank-you h2 { color: #0a3d5c; font-size: 24px; margin-bottom: 12px; }
  .thank-you p { color: #555; font-size: 15px; line-height: 1.7; }
  .lottery-box { background: #fff8e8; border: 2px solid #f0c040; border-radius: 12px; padding: 18px; margin: 20px 0; text-align: center; }
  .lottery-box p { color: #885500; font-size: 14px; margin-bottom: 10px; }
  .lottery-input { width: 100%; border: 2px solid #f0c040; border-radius: 8px; padding: 12px; font-size: 15px; text-align: center; outline: none; font-family: inherit; }
  @media (max-width: 500px) { .body { padding: 20px; } .header { padding: 20px; } .question { font-size: 16px; } }
</style>
</head>
<body>
<div class="card">
  <div class="header">
    <div class="logo-area">
      <div class="logo-text">ğŸŒŠ ×›×¤×¨ ×”×™×</div>
      <div class="lang-buttons">
        <button class="lang-btn active" onclick="setLang('he')">×¢×‘</button>
        <button class="lang-btn" onclick="setLang('en')">EN</button>
        <button class="lang-btn" onclick="setLang('ru')">Ğ Ğ£</button>
      </div>
    </div>
    <h1>×¡×§×¨ ×“×™×™×¨×™× | ×ª×•×›× ×™×ª ×”×”×ª×—×“×©×•×ª 2026</h1>
    <p class="header-sub">×”×¡×§×¨ × ×•×¢×“ ×œ××™×¤×•×™ ×¦×¨×›×™× ×•×ª×¢×“×•×£ ×‘×œ×‘×“, ×•××™× ×• ××”×•×•×” ×”×¦×‘×¢×” ××• ×”×—×œ×˜×”. ××©×š ××™×œ×•×™ ×›-5 ×“×§×•×ª. ×”×ª×•×¦××•×ª ×™×•×¦×’×• ×œ×¦×™×‘×•×¨ ×œ××—×¨ ×¢×™×‘×•×“×Ÿ ×•×™×©××©×• ×‘×¡×™×¡ ×œ×“×™×•×Ÿ ××¡×•×“×¨.</p>
    <div class="progress-wrap"><div class="progress-bar" id="progressBar" style="width:0%"></div></div>
    <div class="progress-label" id="progressLabel"></div>
  </div>

  <div class="body">

    <!-- STEP 0: Intro -->
    <div class="step active" id="step-0">
      <div class="section-intro">
        <div class="icon">ğŸ—ï¸</div>
        <h2>×‘×¨×•×›×™× ×”×‘××™×</h2>
        <p>×œ×§×¨××ª ×’×™×‘×•×© ×ª×•×›× ×™×ª ×¢×‘×•×“×” ×¨×‘-×©× ×ª×™×ª ×œ××ª×—×, ××ª×§×™×™× ×ª×”×œ×™×š ××™×¤×•×™ ×¦×¨×›×™× ×•×ª×¢×“×•×£. ×œ×¤× ×™ ×§×‘×œ×ª ×”×—×œ×˜×•×ª, ×—×©×•×‘ ×œ× ×• ×œ×©××•×¢ ××ª×›×.<br><br>×”×¡×§×¨ ××•×¨×š ×›-5 ×“×§×•×ª. ×”×ª×©×•×‘×•×ª ×™×•×¦×’×• ×‘×¤× ×™ ×”×“×™×¨×§×˜×•×¨×™×•×Ÿ ×•×™×¤×•×¨×¡××• ×œ×¦×™×‘×•×¨ ×”×“×™×™×¨×™×.</p>
      </div>
      <div class="nav">
        <button class="btn btn-next" onclick="nextStep()">×‘×•××• × ×ª×—×™×œ â†</button>
      </div>
    </div>

    <!-- STEP 1: Identification -->
    <div class="step" id="step-1">
      <div class="step-label">×–×™×”×•×™</div>
      <div class="info-box">×œ×¦×•×¨×š ×’×™×‘×•×© ×ª×•×›× ×™×ª ×¢×‘×•×“×” ×¨×‘ ×©× ×ª×™×ª ×œ××ª×—×, ××‘×•×¦×¢ ××™×¤×•×™ ×¦×¨×›×™× ×•×ª×¢×“×•×£ ×‘×§×¨×‘ ×”×“×™×™×¨×™× ×•×”××—×–×™×§×™× ×‘× ×›×¡×™×. ×›×“×™ ×œ×× ×•×¢ ×”×©×¤×¢×” ×–×¨×” ×¢×œ ×ª×”×œ×™×š ×§×‘×œ×ª ×”×”×—×œ×˜×•×ª ×•×œ×•×•×“× ×©×“×™×™×¨×™× ×‘×œ×‘×“ ×××œ××™× ××ª ×”×¡×§×¨, ×× ×• ××‘×§×©×™× ×œ××œ× ×¤×¨×˜×™ ××™××•×ª. ×”× ×ª×•× ×™× ×œ× ×™×•×¦×’×• ×‘×¤×¨×¡×•× ×”×ª×•×¦××•×ª ×•×œ× ×™×©××©×• ×œ×–×™×”×•×™ ××™×©×™.</div>

      <div class="field-group">
        <div class="field-label">××¡×¤×¨ ×“×™×¨×” / ×™×—×™×“×”</div>
        <input type="text" class="text-input" id="apt-input" placeholder="×œ×“×•×’××”: 3-42" oninput="checkStep1()">
      </div>

      <div class="field-group">
        <div class="field-label">×¤×¨×˜ ××™××•×ª â€” ×‘×—×¨ ××—×“:</div>
        <div class="verify-toggle">
          <div class="verify-tab active" id="tab-card" onclick="switchVerify('card')">××¡×¤×¨ ×›×¨×˜×™×¡ ×›× ×™×¡×”</div>
          <div class="verify-tab" id="tab-dob" onclick="switchVerify('dob')">×ª××¨×™×š ×œ×™×“×”</div>
        </div>
        <div class="verify-field active" id="field-card">
          <input type="text" class="text-input" id="card-input" placeholder="6 ×¡×¤×¨×•×ª â€” ×©×•×¨×” ×©×œ×™×©×™×ª ×‘×›×¨×˜×™×¡ ×”×“×™×™×¨" maxlength="6" oninput="checkStep1()">
          <div class="privacy-note">××¡×¤×¨ ×”×›×¨×˜×™×¡ ×œ× ×™×©××¨ ×•×œ× ×™×•×¦×’ ×‘×ª×•×¦××•×ª</div>
        </div>
        <div class="verify-field" id="field-dob">
          <input type="text" class="text-input" id="dob-input" placeholder="DD/MM/YYYY" maxlength="10" oninput="formatDob(); checkStep1()">
          <div class="privacy-note">×ª××¨×™×š ×”×œ×™×“×” ×œ× ×™×©××¨ ×•×œ× ×™×•×¦×’ ×‘×ª×•×¦××•×ª</div>
        </div>
      </div>

      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-1" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 2: Relationship -->
    <div class="step" id="step-2">
      <div class="step-label">×—×œ×§ ××³ â€“ ××™ ××ª×”</div>
      <div class="question">××”×• ×”×§×©×¨ ×©×œ×š ×œ× ×›×¡ ×‘××ª×—×?</div>
      <div class="options" id="opts-2">
        <div class="option" data-val="owner_resident" onclick="selectSingle(this,2)"><span class="check"></span>×‘×¢×œ ×“×™×¨×” ×”××ª×’×•×¨×¨ ×§×‘×•×¢</div>
        <div class="option" data-val="owner_partial" onclick="selectSingle(this,2)"><span class="check"></span>×‘×¢×œ ×“×™×¨×” ×”××ª×’×•×¨×¨ ×—×œ×§×™×ª / ×“×™×¨×ª × ×•×¤×©</div>
        <div class="option" data-val="owner_renting" onclick="selectSingle(this,2)"><span class="check"></span>×‘×¢×œ ×“×™×¨×” ×”××©×›×™×¨ ××ª ×”× ×›×¡</div>
        <div class="option" data-val="tenant" onclick="selectSingle(this,2)"><span class="check"></span>×©×•×›×¨ ×”××ª×’×•×¨×¨ ×‘××ª×—×</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-2" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 3: Years -->
    <div class="step" id="step-3">
      <div class="step-label">×—×œ×§ ××³ â€“ ××™ ××ª×”</div>
      <div class="question">×›××” ×©× ×™× ××ª×” ×§×©×•×¨ ×œ××ª×—×?</div>
      <div class="options" id="opts-3">
        <div class="option" data-val="0to4" onclick="selectSingle(this,3)"><span class="check"></span>0â€“4 ×©× ×™×</div>
        <div class="option" data-val="5to9" onclick="selectSingle(this,3)"><span class="check"></span>5â€“9 ×©× ×™×</div>
        <div class="option" data-val="10to19" onclick="selectSingle(this,3)"><span class="check"></span>10â€“19 ×©× ×™×</div>
        <div class="option" data-val="20plus" onclick="selectSingle(this,3)"><span class="check"></span>20 ×©× ×” ×•××¢×œ×”</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-3" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 4: Age -->
    <div class="step" id="step-4">
      <div class="step-label">×—×œ×§ ××³ â€“ ××™ ××ª×”</div>
      <div class="question">××” ×˜×•×•×— ×”×’×™×œ ×©×œ×š?</div>
      <div class="options" id="opts-4">
        <div class="option" data-val="under35" onclick="selectSingle(this,4)"><span class="check"></span>×¢×“ 35</div>
        <div class="option" data-val="36to49" onclick="selectSingle(this,4)"><span class="check"></span>36â€“49</div>
        <div class="option" data-val="50to64" onclick="selectSingle(this,4)"><span class="check"></span>50â€“64</div>
        <div class="option" data-val="65to74" onclick="selectSingle(this,4)"><span class="check"></span>65â€“74</div>
        <div class="option" data-val="75plus" onclick="selectSingle(this,4)"><span class="check"></span>75 ×•××¢×œ×”</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-4" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 5: Household -->
    <div class="step" id="step-5">
      <div class="step-label">×—×œ×§ ××³ â€“ ××™ ××ª×”</div>
      <div class="question">×›××” × ×¤×©×•×ª ××ª×’×•×¨×¨×•×ª ×‘× ×›×¡?</div>
      <div class="options" id="opts-5">
        <div class="option" data-val="1" onclick="selectSingle(this,5)"><span class="check"></span>1</div>
        <div class="option" data-val="2" onclick="selectSingle(this,5)"><span class="check"></span>2</div>
        <div class="option" data-val="3to4" onclick="selectSingle(this,5)"><span class="check"></span>3â€“4</div>
        <div class="option" data-val="5plus" onclick="selectSingle(this,5)"><span class="check"></span>5 ×•××¢×œ×”</div>
        <div class="option" data-val="na" onclick="selectSingle(this,5)"><span class="check"></span>×œ× ×¨×œ×•×•× ×˜×™ (×œ× ××ª×’×•×¨×¨)</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-5" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- SECTION B INTRO -->
    <div class="step" id="step-5b">
      <div class="section-intro">
        <div class="icon">ğŸ </div>
        <h2>×—×œ×§ ×‘×³ â€“ ×ª×¤×™×¡×ª ×”× ×›×¡</h2>
        <p>× ×¨×¦×” ×œ×”×‘×™×Ÿ ×›×™×¦×“ ××ª×” ×¨×•××” ××ª ×”× ×›×¡ ×©×œ×š ×•××” ×—×©×•×‘ ×œ×š ×œ×˜×•×•×— ×”××¨×•×š.</p>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 6: Property view -->
    <div class="step" id="step-6">
      <div class="step-label">×—×œ×§ ×‘×³ â€“ ×ª×¤×™×¡×ª ×”× ×›×¡</div>
      <div class="question">×›×™×¦×“ ××ª×” ×¨×•××” ××ª ×”× ×›×¡ ×©×œ×š ×‘××ª×—×?</div>
      <div class="options" id="opts-6">
        <div class="option" data-val="main_home" onclick="selectSingle(this,6)"><span class="check"></span>××’×•×¨×™× ×¢×™×§×¨×™×™×</div>
        <div class="option" data-val="investment" onclick="selectSingle(this,6)"><span class="check"></span>× ×›×¡ ×”×©×§×¢×”</div>
        <div class="option" data-val="vacation" onclick="selectSingle(this,6)"><span class="check"></span>×“×™×¨×ª × ×•×¤×©</div>
        <div class="option" data-val="combo" onclick="selectSingle(this,6)"><span class="check"></span>×©×™×œ×•×‘ ×©×œ ×›××” ××”×××•×¨</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-6" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 7: Ranking -->
    <div class="step" id="step-7">
      <div class="step-label">×—×œ×§ ×‘×³ â€“ ×ª×¤×™×¡×ª ×”× ×›×¡</div>
      <div class="question">××” ×—×©×•×‘ ×œ×š ×‘×˜×•×•×— ×”××¨×•×š?</div>
      <p class="rank-note">×’×¨×•×¨ ××ª ×”×¤×¨×™×˜×™× ×œ×¡×“×¨ ×”×¢×“×™×¤×•×™×•×ª ×©×œ×š â€” ××”×—×©×•×‘ ×‘×™×•×ª×¨ ×œ××˜×”. 3 ×”×¨××©×•× ×™× ×™×™×—×©×‘×•.</p>
      <div class="rank-list" id="rank-list">
        <div class="rank-item" draggable="true" data-val="value"><span class="rank-num" id="rn-0">1</span><span class="rank-text">×”×©×‘×—×ª ×¢×¨×š ×”× ×›×¡</span><span class="rank-handle">â ¿</span></div>
        <div class="rank-item" draggable="true" data-val="appearance"><span class="rank-num" id="rn-1">2</span><span class="rank-text">× ×¨××•×ª ×”××ª×—×</span><span class="rank-handle">â ¿</span></div>
        <div class="rank-item" draggable="true" data-val="quality_maintenance"><span class="rank-num" id="rn-2">3</span><span class="rank-text">××™×›×•×ª ×—×™×™× ×™×•××™×•××™×ª ×•×ª×—×–×•×§×”</span><span class="rank-handle">â ¿</span></div>
        <div class="rank-item" draggable="true" data-val="community"><span class="rank-num" id="rn-3">4</span><span class="rank-text">×—×™×™ ×§×”×™×œ×”</span><span class="rank-handle">â ¿</span></div>
        <div class="rank-item" draggable="true" data-val="low_cost"><span class="rank-num" id="rn-4">5</span><span class="rank-text">×©××™×¨×” ×¢×œ ×”×•×¦××•×ª × ××•×›×•×ª</span><span class="rank-handle">â ¿</span></div>
        <div class="rank-item" draggable="true" data-val="safety"><span class="rank-num" id="rn-5">6</span><span class="rank-text">×©××™×¨×” ×¢×œ ×‘×˜×™×—×•×ª ×•×ª×§×™× ×•×ª</span><span class="rank-handle">â ¿</span></div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" onclick="saveRanking(); nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 8: Renewal plan -->
    <div class="step" id="step-8">
      <div class="step-label">×—×œ×§ ×‘×³ â€“ ×ª×¤×™×¡×ª ×”× ×›×¡</div>
      <div class="question">×”×× ×œ×“×¢×ª×š ×”××ª×—× ×–×§×•×§ ×œ×ª×•×›× ×™×ª ×”×ª×—×“×©×•×ª ×¨×‘-×©× ×ª×™×ª?</div>
      <div class="options" id="opts-8">
        <div class="option" data-val="yes" onclick="selectSingle(this,8)"><span class="check"></span>×›×Ÿ ×‘×”×—×œ×˜</div>
        <div class="option" data-val="yes_minimal" onclick="selectSingle(this,8)"><span class="check"></span>×›×Ÿ, ××‘×œ ×‘×¦×•×¨×” ××“×•×¨×’×ª ×•××™× ×™××œ×™×ª</div>
        <div class="option" data-val="no" onclick="selectSingle(this,8)"><span class="check"></span>×œ× ×‘×©×œ×‘ ×–×”</div>
        <div class="option" data-val="unsure" onclick="selectSingle(this,8)"><span class="check"></span>×œ× ×™×•×“×¢ / ×œ× ×‘×˜×•×—</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-8" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- SECTION C INTRO -->
    <div class="step" id="step-8b">
      <div class="section-intro">
        <div class="icon">ğŸŠ</div>
        <h2>×—×œ×§ ×’×³ â€“ ×”×‘×¨×™×›×” ×”×—×™×¦×•× ×™×ª</h2>
        <p>×”×‘×¨×™×›×” ×”×—×™×¦×•× ×™×ª ×œ× × ×¤×ª×—×” ×‘×¢×•× ×” ×”××—×¨×•× ×” ×‘×¢×§×‘×•×ª ×“×¨×™×©×•×ª ×¨×’×•×œ×˜×•×¨×™×•×ª ×”××—×™×™×‘×•×ª ×‘×™×¦×•×¢ ×¢×‘×•×“×•×ª ××©××¢×•×ª×™×•×ª. ×‘×”×™× ×ª×Ÿ ×©×”×©×™×§×•× ××—×™×™×‘ ××§×•×¨ ××™××•×Ÿ ×™×™×¢×•×“×™, × ×¨×¦×” ×œ×©××•×¢ ××ª ×¢××“×ª×š.</p>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 9: Pool -->
    <div class="step" id="step-9">
      <div class="step-label">×—×œ×§ ×’×³ â€“ ×”×‘×¨×™×›×”</div>
      <div class="question">××” ×¢××“×ª×š ×œ×’×‘×™ ×§×™×“×•× ×©×™×§×•× ×”×‘×¨×™×›×” ×”×—×™×¦×•× ×™×ª ×‘×¢×•× ×” ×”×§×¨×•×‘×”?</div>
      <div class="options" id="opts-9">
        <div class="option" data-val="asap_special" onclick="selectSingle(this,9)"><span class="check"></span>×œ×§×“× ×©×™×§×•× ×›×‘×¨ ×œ×§×™×¥ ×”×§×¨×•×‘ ×’× ×× ×™×™×“×¨×© ×ª×©×œ×•× ×™×™×¢×•×“×™ ××”×“×™×™×¨×™×</div>
        <div class="option" data-val="gradual" onclick="selectSingle(this,9)"><span class="check"></span>×œ×§×“× ×©×™×§×•×, ××š ×¨×§ ×‘×¤×¨×™×¡×” ×¨×‘ ×©× ×ª×™×ª ×•×œ× ×‘×ª×©×œ×•× ×—×“ ×¤×¢××™</div>
        <div class="option" data-val="delay" onclick="selectSingle(this,9)"><span class="check"></span>×œ×“×—×•×ª ××ª ×”×©×™×§×•× ×‘×©×œ×‘ ×–×” ×•×œ×”×ª××§×“ ×‘×¤×¨×•×™×§×˜×™× ××—×¨×™×</div>
        <div class="option" data-val="oppose" onclick="selectSingle(this,9)"><span class="check"></span>××™× ×™ ×ª×•××š ×‘×©×™×§×•× ×”×‘×¨×™×›×” ×‘×¢×ª ×”×–×•</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-9" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 10: Hotel -->
    <div class="step" id="step-10">
      <div class="step-label">×—×œ×§ ×’×³ â€“ ×”×‘×¨×™×›×”</div>
      <div class="question">××” ×¦×¨×™×š ×œ×”×™×•×ª ×”×¢×™×§×¨×•×Ÿ ×”×× ×—×” ×œ×’×‘×™ ×”×©×ª×ª×¤×•×ª ×”××œ×•×Ÿ ×‘×¢×œ×•×™×•×ª?</div>
      <div class="options" id="opts-10">
        <div class="option" data-val="hotel_first" onclick="selectSingle(this,10)"><span class="check"></span>×™×© ×œ×”×¡×“×™×¨ ×”×©×ª×ª×¤×•×ª ×”××œ×•×Ÿ ×‘×¢×œ×•×™×•×ª ×œ×¤× ×™ ×‘×™×¦×•×¢ ×©×™×§×•×</div>
        <div class="option" data-val="temp_residents" onclick="selectSingle(this,10)"><span class="check"></span>×œ×§×“× ×¤×ª×¨×•×Ÿ ×–×× ×™ ×œ×“×™×™×¨×™× ×‘×××¦×¢×•×ª ×’×‘×™×™×” ××™×•×—×“×ª â€” ×•×‘××™×“×” ×•×”××œ×•×Ÿ ×™×©×ª×ª×£, ×œ×”×—×–×™×¨ ×œ×“×™×™×¨×™× ××ª ×”×¡×›×•× ×©×©×•×œ×</div>
        <div class="option" data-val="parallel" onclick="selectSingle(this,10)"><span class="check"></span>× ×™×ª×Ÿ ×œ×§×“× ×©×™×§×•× ×‘××§×‘×™×œ ×œ× ×™×”×•×œ ×”×”×¡×“×¨×” ××•×œ ×”××œ×•×Ÿ</div>
        <div class="option" data-val="no_info" onclick="selectSingle(this,10)"><span class="check"></span>××™×Ÿ ×œ×™ ××¡×¤×™×§ ××™×“×¢ ×›×“×™ ×œ×—×•×•×ª ×“×¢×”</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-10" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- SECTION D INTRO -->
    <div class="step" id="step-10b">
      <div class="section-intro">
        <div class="icon">ğŸ”§</div>
        <h2>×—×œ×§ ×“×³ â€“ ×ª×¢×“×•×£ ×¤×¨×•×™×§×˜×™×</h2>
        <p>×œ×¦×•×¨×š ×”×¡×§×¨ ×‘×œ×‘×“, ×”×¤×¨×•×™×§×˜×™× ××•×¦×’×™× ×‘×©×œ×•×©×” ××¡×œ×•×œ×™×:<br>
        ğŸ”´ ×‘×˜×™×—×•×ª ×•×¨×’×•×œ×¦×™×”<br>
        ğŸŸ¡ ×©×™××•×¨ ×ª×©×ª×™×•×ª<br>
        ğŸ”µ ×”×©×‘×—×” ×•×©×“×¨×•×’</p>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 11: Projects (multi) -->
    <div class="step" id="step-11">
      <div class="step-label">×—×œ×§ ×“×³ â€“ ×ª×¢×“×•×£</div>
      <div class="question">××™×œ×• ×¤×¨×•×™×§×˜×™× ×—×©×•×‘×™× ×œ×š ×‘××™×•×—×“?</div>
      <p class="multi-note">×‘×—×¨ ×¢×“ 3</p>
      <div class="options" id="opts-11">
        <div class="option multi" data-val="pool_outdoor" onclick="selectMulti(this,11,3)"><span class="check"></span>×©×™×§×•× ×”×‘×¨×™×›×” ×”×—×™×¦×•× ×™×ª</div>
        <div class="option multi" data-val="elevators" onclick="selectMulti(this,11,3)"><span class="check"></span>×©×“×¨×•×’ ××¢×œ×™×•×ª</div>
        <div class="option multi" data-val="corridors" onclick="selectMulti(this,11,3)"><span class="check"></span>×©×™×¤×•×¥ ××¡×“×¨×•× ×•×ª ×•×©×˜×—×™× ××©×•×ª×¤×™×</div>
        <div class="option multi" data-val="pool_indoor" onclick="selectMulti(this,11,3)"><span class="check"></span>×‘×¨×™×›×” ×¤× ×™××™×ª ×•×¡×¤×</div>
        <div class="option multi" data-val="electric" onclick="selectMulti(this,11,3)"><span class="check"></span>×©×™×§×•× ×œ×•×—×•×ª ×—×©××œ</div>
        <div class="option multi" data-val="facade" onclick="selectMulti(this,11,3)"><span class="check"></span>×©×™×§×•× ×—×™×¤×•×™×™ ×—×–×™×ª</div>
        <div class="option multi" data-val="gates" onclick="selectMulti(this,11,3)"><span class="check"></span>×©×¢×¨×™× ×—×›××™× ×•×›× ×™×¡×•×ª ×—× ×™×•×Ÿ</div>
        <div class="option multi" data-val="landscaping" onclick="selectMulti(this,11,3)"><span class="check"></span>× ×¨××•×ª ×•×¤×™×ª×•×— ×©×˜×—×™ ×”××ª×—×</div>
        <div class="option multi" data-val="gym" onclick="selectMulti(this,11,3)"><span class="check"></span>×—×“×¨ ×›×•×©×¨</div>
        <div class="option multi" data-val="bridge" onclick="selectMulti(this,11,3)"><span class="check"></span>×‘× ×™×™×ª ×”×’×©×¨ ×‘×™×Ÿ ×‘× ×™×™×Ÿ 1 ×œ×‘× ×™×™×Ÿ 2</div>
        <div class="option multi" data-val="closed_spaces" onclick="selectMulti(this,11,3)"><span class="check"></span>×©×™×¤×•×¥ ××ª×—××™× ×©× ×¡×’×¨×• â€” ×—×“×¨ ×”××©×—×§×™×, ×”×“×™×¡×§×•×˜×§ ×•×”××•×œ× ×”×’×“×•×œ ×‘×‘× ×™×™×Ÿ 1</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-11" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 12: Issues (multi) -->
    <div class="step" id="step-12">
      <div class="step-label">×—×œ×§ ×“×³ â€“ ××¦×‘ × ×•×›×—×™</div>
      <div class="question">××” ××¤×¨×™×¢ ×œ×š ×”×›×™ ×”×¨×‘×” ×‘××ª×—× ×›×™×•×?</div>
      <p class="multi-note">×‘×—×¨ ×¢×“ 3</p>
      <div class="options" id="opts-12">
        <div class="option multi" data-val="pool_outdoor" onclick="selectMulti(this,12,3)"><span class="check"></span>××¦×‘ ×”×‘×¨×™×›×” ×”×—×™×¦×•× ×™×ª</div>
        <div class="option multi" data-val="pool_indoor" onclick="selectMulti(this,12,3)"><span class="check"></span>××¦×‘ ×”×‘×¨×™×›×” ×”×¤× ×™××™×ª / ×¡×¤×</div>
        <div class="option multi" data-val="corridors" onclick="selectMulti(this,12,3)"><span class="check"></span>××¦×‘ ×”××¡×“×¨×•× ×•×ª ×•×”×©×˜×—×™× ×”××©×•×ª×¤×™×</div>
        <div class="option multi" data-val="elevators" onclick="selectMulti(this,12,3)"><span class="check"></span>××¦×‘ ×”××¢×œ×™×•×ª</div>
        <div class="option multi" data-val="electric" onclick="selectMulti(this,12,3)"><span class="check"></span>×œ×•×—×•×ª ×—×©××œ ×•×ª×©×ª×™×•×ª</div>
        <div class="option multi" data-val="facade" onclick="selectMulti(this,12,3)"><span class="check"></span>×—×–×™×ª ×”×‘× ×™×™× ×™×</div>
        <div class="option multi" data-val="gates" onclick="selectMulti(this,12,3)"><span class="check"></span>×©×¢×¨×™×, ×›× ×™×¡×•×ª ×•×—× ×™×•×Ÿ</div>
        <div class="option multi" data-val="maintenance" onclick="selectMulti(this,12,3)"><span class="check"></span>× ×™×§×™×•×Ÿ ×•×ª×—×–×•×§×” ×©×•×˜×¤×ª</div>
        <div class="option multi" data-val="nothing" onclick="selectOnlyThis(this,12)"><span class="check"></span>××™×Ÿ ×ª×œ×•× ×•×ª ××™×•×—×“×•×ª</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-12" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 13: Awareness -->
    <div class="step" id="step-13">
      <div class="step-label">×—×œ×§ ×“×³ â€“ ××•×“×¢×•×ª</div>
      <div class="question">×¢×“ ×›××” ×”×™×™×ª ××•×“×¢ ×œ×›×š ×©×”×¤×¨×•×™×§×˜×™× ×”×‘××™× ×›×‘×¨ ××ª×•×›× × ×™× ××• ×‘×‘×™×¦×•×¢ ×‘××¡×’×¨×ª ×ª×•×›× ×™×ª ×”×¢×‘×•×“×” ×œ-2026?</div>
      <p class="multi-note">×¡××Ÿ ××ª ××” ×©×”×™×™×ª ××•×“×¢ ××œ×™×• ×œ×¤× ×™ ××™×œ×•×™ ×”×¡×§×¨</p>
      <div class="options" id="opts-13">
        <div class="option multi" data-val="knew_electric" onclick="selectMultiUnlimited(this,13)"><span class="check"></span>×©×™×§×•× ×œ×•×—×•×ª ×”×—×©××œ (85 ×œ×•×—×•×ª ×‘××ª×—×)</div>
        <div class="option multi" data-val="knew_facade" onclick="selectMultiUnlimited(this,13)"><span class="check"></span>×©×™×§×•× ×—×™×¤×•×™×™ ×—×–×™×ª ×‘× ×™×™× ×™× 2â€“5</div>
        <div class="option multi" data-val="knew_none" onclick="selectOnlyThis(this,13)"><span class="check"></span>×œ× ×™×“×¢×ª×™ ×¢×œ ××£ ××—×“ ××”×</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-13" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- SECTION E INTRO -->
    <div class="step" id="step-13b">
      <div class="section-intro">
        <div class="icon">ğŸ’°</div>
        <h2>×—×œ×§ ×”×³ â€“ ×ª×§×¦×™×‘ ×•××™××•×Ÿ</h2>
        <p>×©××œ×•×ª ××œ×• × ×•×¢×“×• ×œ×”×‘×™×Ÿ ×”×¢×“×¤×•×ª ×œ×¤×¨×™×¡×” ×•×ª×›× ×•×Ÿ ×›×œ×›×œ×™ ×‘×œ×‘×“, ×•××™× ×Ÿ ××”×•×•×ª ×”×—×œ×˜×” ×¢×œ ×©×™× ×•×™ ×ª×©×œ×•×.</p>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 14: Funding -->
    <div class="step" id="step-14">
      <div class="step-label">×—×œ×§ ×”×³ â€“ ×ª×§×¦×™×‘</div>
      <div class="question">×‘×”× ×—×” ×©×™×™×“×¨×© ×× ×’× ×•×Ÿ ××™××•×Ÿ ×œ×¤×¨×•×™×§×˜×™× ××¡×•×™××™×, ××™×–×” ××•×“×œ ×ª×¢×“×™×£?</div>
      <div class="options" id="opts-14">
        <div class="option" data-val="one_time" onclick="selectSingle(this,14)"><span class="check"></span>×ª×©×œ×•× ×—×“ ×¤×¢××™ ×œ×¤×¨×•×™×§×˜×™× × ×§×•×“×ª×™×™× ×•×“×—×•×¤×™×</div>
        <div class="option" data-val="monthly_fee" onclick="selectSingle(this,14)"><span class="check"></span>×ª×•×¡×¤×ª ×œ×“××™ ×”× ×™×”×•×œ ×‘×’×‘×™×™×” ×”×—×•×“×©×™×ª</div>
        <div class="option" data-val="installments" onclick="selectSingle(this,14)"><span class="check"></span>×¤×¨×™×¡×” ×©×œ 12 ×ª×©×œ×•××™×</div>
        <div class="option" data-val="multiyear" onclick="selectSingle(this,14)"><span class="check"></span>×ª×•×›× ×™×ª ××“×•×¨×’×ª ×œ×¤×™ ××¡×¤×¨ ×©× ×™×</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-14" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 15: Fee -->
    <div class="step" id="step-15">
      <div class="step-label">×—×œ×§ ×”×³ â€“ ×ª×§×¦×™×‘</div>
      <div class="question">×œ×’×‘×™ ×”×ª×××” ×¢×ª×™×“×™×ª ×©×œ ×“××™ ×”× ×™×”×•×œ ×œ×¦×•×¨×š ×ª×—×–×•×§×” ×©×•×˜×¤×ª ×•×©×™××•×¨ ×¢×¨×š â€“ ××” ×¢××“×ª×š?</div>
      <div class="options" id="opts-15">
        <div class="option" data-val="ok_transparent" onclick="selectSingle(this,15)"><span class="check"></span>××§×•×‘×œ ×× ×™×© ×©×§×™×¤×•×ª ××œ××” ×œ××Ÿ ×”×›×¡×£ ×”×•×œ×š</div>
        <div class="option" data-val="ok_minimal" onclick="selectSingle(this,15)"><span class="check"></span>××§×•×‘×œ ×‘×ª× ××™ ×©×”×¢×œ×™×™×” ××™× ×™××œ×™×ª</div>
        <div class="option" data-val="oppose" onclick="selectSingle(this,15)"><span class="check"></span>××ª× ×’×“ ×œ×›×œ ×¢×œ×™×™×” × ×•×¡×¤×ª</div>
        <div class="option" data-val="depends" onclick="selectSingle(this,15)"><span class="check"></span>×ª×œ×•×™ ×‘×ª×•×¦××•×ª ×”×¤×¨×•×™×§×˜×™× ×‘×¤×•×¢×œ</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-15" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 16: Timeline -->
    <div class="step" id="step-16">
      <div class="step-label">×—×œ×§ ×”×³ â€“ ×¦×™×¤×™×•×ª</div>
      <div class="question">××ª×™ ×œ×“×¢×ª×š ×¦×¨×™×š ×œ×”×¨×’×™×© ×©×™× ×•×™ ××•×—×©×™ ×¨××©×•×Ÿ ×‘××ª×—×?</div>
      <div class="options" id="opts-16">
        <div class="option" data-val="summer2026" onclick="selectSingle(this,16)"><span class="check"></span>×¢×“ ×§×™×¥ 2026</div>
        <div class="option" data-val="end2026" onclick="selectSingle(this,16)"><span class="check"></span>×¢×“ ×¡×•×£ 2026</div>
        <div class="option" data-val="1to2years" onclick="selectSingle(this,16)"><span class="check"></span>×ª×•×š ×©× ×”-×©× ×ª×™×™×</div>
        <div class="option" data-val="no_rush" onclick="selectSingle(this,16)"><span class="check"></span>×”×“×‘×¨×™× ×œ×•×§×—×™× ×–××Ÿ, ××™×Ÿ ×œ×™ ×¦×™×¤×™×™×” ××™×™×“×™×ª</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-16" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- SECTION F INTRO -->
    <div class="step" id="step-16b">
      <div class="section-intro">
        <div class="icon">ğŸ¤</div>
        <h2>×—×œ×§ ×•×³ â€“ ×××•×Ÿ ×•×ª×§×©×•×¨×ª</h2>
        <p>×©××œ×•×ª ××—×¨×•× ×•×ª ×¢×œ ×ª×§×©×•×¨×ª, ×©×§×™×¤×•×ª ×•××¢×•×¨×‘×•×ª.</p>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 17: Informed -->
    <div class="step" id="step-17">
      <div class="step-label">×—×œ×§ ×•×³ â€“ ×××•×Ÿ</div>
      <div class="question">×¢×“ ×›××” ××ª×” ××¨×’×™×© ××¢×•×“×›×Ÿ ×œ×’×‘×™ ×”× ×¢×©×” ×‘××ª×—×?</div>
      <div class="options" id="opts-17">
        <div class="option" data-val="very_updated" onclick="selectSingle(this,17)"><span class="check"></span>××¢×•×“×›×Ÿ ×××•×“</div>
        <div class="option" data-val="partial" onclick="selectSingle(this,17)"><span class="check"></span>××¢×•×“×›×Ÿ ×—×œ×§×™×ª</div>
        <div class="option" data-val="not_enough" onclick="selectSingle(this,17)"><span class="check"></span>×œ× ××¡×¤×™×§ ××¢×•×“×›×Ÿ</div>
        <div class="option" data-val="barely" onclick="selectSingle(this,17)"><span class="check"></span>×›××¢×˜ ×œ× ××¢×•×“×›×Ÿ</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-17" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 18: Channel (multi) -->
    <div class="step" id="step-18">
      <div class="step-label">×—×œ×§ ×•×³ â€“ ×ª×§×©×•×¨×ª</div>
      <div class="question">×‘××™×–×” ×¢×¨×•×¥ ×ª×§×©×•×¨×ª ××ª×” ××¢×“×™×£ ×œ×§×‘×œ ×¢×“×›×•× ×™×?</div>
      <p class="multi-note">××¤×©×¨ ×œ×‘×—×•×¨ ×™×•×ª×¨ ×××—×“</p>
      <div class="options" id="opts-18">
        <div class="option multi" data-val="email" onclick="selectMultiUnlimited(this,18)"><span class="check"></span>××™×™×œ</div>
        <div class="option multi" data-val="whatsapp" onclick="selectMultiUnlimited(this,18)"><span class="check"></span>×•×•××˜×¡××¤</div>
        <div class="option multi" data-val="meetings" onclick="selectMultiUnlimited(this,18)"><span class="check"></span>××¡×™×¤×•×ª ×“×™×™×¨×™×</div>
        <div class="option multi" data-val="notice_board" onclick="selectMultiUnlimited(this,18)"><span class="check"></span>×œ×•×— ××•×“×¢×•×ª ×¤×™×–×™ ×‘××ª×—×</div>
        <div class="option multi" data-val="portal" onclick="selectMultiUnlimited(this,18)"><span class="check"></span>××ª×¨ / ×¤×•×¨×˜×œ ×“×™×™×¨×™×</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-18" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 19: Involvement -->
    <div class="step" id="step-19">
      <div class="step-label">×—×œ×§ ×•×³ â€“ ××¢×•×¨×‘×•×ª</div>
      <div class="question">×”×× ×”×™×™×ª ××¢×•× ×™×™×Ÿ ×œ×§×—×ª ×—×œ×§ ×‘×™×•×–××•×ª ×©×œ ×”××ª×—×?</div>
      <p class="subtitle">×œ×“×•×’××”: ×•×¢×“×•×ª, ×™×•×–××•×ª ×—×‘×¨×ª×™×•×ª, ×©×™×¤×•×¨ ×¤× ×™ ×”×›×¤×¨ ×•×›×“×³</p>
      <div class="options" id="opts-19">
        <div class="option" data-val="yes_active" onclick="selectSingle(this,19)"><span class="check"></span>×›×Ÿ, ××©××— ×œ×”×™×•×ª ××¢×•×¨×‘</div>
        <div class="option" data-val="maybe" onclick="selectSingle(this,19)"><span class="check"></span>××•×œ×™ â€“ ×ª×œ×•×™ ×‘×”×™×§×£ ×”××—×•×™×‘×•×ª</div>
        <div class="option" data-val="no" onclick="selectSingle(this,19)"><span class="check"></span>×œ× ×‘×©×œ×‘ ×–×”</div>
      </div>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" id="btn-19" disabled onclick="nextStep()">×”××©×š â†</button>
      </div>
    </div>

    <!-- STEP 20: Open text -->
    <div class="step" id="step-20">
      <div class="step-label">×—×œ×§ ×•×³ â€“ ×”×¢×¨×•×ª</div>
      <div class="question">×™×© ×œ×š ×”×¢×¨×•×ª ××• ×“×‘×¨×™× ×©×¨×¦×™×ª ×œ×”×’×™×“ ×•×œ× ×”×™×™×ª×” ×©××œ×” ×¢×œ×™×”×?</div>
      <textarea id="open-text" placeholder="×›×ª×•×‘ ×›××Ÿ... (××•×¤×¦×™×•× ×œ×™)"></textarea>
      <div class="nav">
        <button class="btn btn-back" onclick="prevStep()">â† ×—×–×¨×”</button>
        <button class="btn btn-next" onclick="submitSurvey()">×©×œ×— ××ª ×”×¡×§×¨ â†</button>
      </div>
    </div>

    <!-- THANK YOU -->
    <div class="step" id="step-done">
      <div class="thank-you">
        <div class="big-check">âœ“</div>
        <h2>×ª×•×“×” ×¨×‘×”!</h2>
        <p>×ª×©×•×‘×•×ª×™×š × ×©××¨×• ×‘×”×¦×œ×—×”. ×”×“×™×¨×§×˜×•×¨×™×•×Ÿ ×™×©×ª××© ×‘×ª×•×¦××•×ª ×”×¡×§×¨ ×œ×’×™×‘×•×© ×ª×•×›× ×™×ª ×”×”×ª×—×“×©×•×ª ×©×œ ×›×¤×¨ ×”×™×. ×”×ª×•×¦××•×ª ×”×××•×—×“×•×ª ×™×¤×•×¨×¡××• ×œ×¦×™×‘×•×¨ ×”×“×™×™×¨×™×.</p>
        <div class="lottery-box">
          <p>ğŸ ×”×©××¨ ××™×™×œ ×œ×”×©×ª×ª×¤×•×ª ×‘×”×’×¨×œ×” (×œ× ×—×•×‘×”). ×”××™×™×œ × ×©××¨ ×‘× ×¤×¨×“ ××”×ª×©×•×‘×•×ª ×•××™× ×• ××§×•×©×¨ ×œ×ª×•×›×Ÿ ×”××¢× ×”.</p>
          <input type="email" class="lottery-input" id="lottery-email" placeholder="your@email.com">
        </div>
        <button class="btn btn-next" style="margin-top:12px" onclick="submitLottery()" id="lottery-btn">×©××•×¨ ×•×”×©×ª×ª×£ ×‘×”×’×¨×œ×”</button>
      </div>
    </div>

  </div>
</div>

<script>
let currentStep = 0;
let lang = 'he';
const answers = {};
let verifyMode = 'card';

const steps = [
  'step-0','step-1','step-2','step-3','step-4','step-5',
  'step-5b','step-6','step-7','step-8',
  'step-8b','step-9','step-10',
  'step-10b','step-11','step-12','step-13',
  'step-13b','step-14','step-15','step-16',
  'step-16b','step-17','step-18','step-19','step-20',
  'step-done'
];

function showStep(n) {
  document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
  document.getElementById(steps[n]).classList.add('active');
  currentStep = n;
  const qSteps = ['step-1','step-2','step-3','step-4','step-5','step-6','step-7','step-8','step-9','step-10','step-11','step-12','step-13','step-14','step-15','step-16','step-17','step-18','step-19','step-20'];
  const qi = qSteps.indexOf(steps[n]);
  const total = qSteps.length;
  const pct = n === steps.length-1 ? 100 : qi >= 0 ? Math.round((qi/total)*100) : 0;
  document.getElementById('progressBar').style.width = pct + '%';
  document.getElementById('progressLabel').textContent = n === steps.length-1 ? '×”×¡×§×¨ ×”×•×©×œ×!' : qi >= 0 ? '×©××œ×” '+(qi+1)+' ××ª×•×š '+total : '';
  window.scrollTo(0,0);
}

function nextStep() { if (currentStep < steps.length-1) showStep(currentStep+1); }
function prevStep() { if (currentStep > 0) showStep(currentStep-1); }

function switchVerify(mode) {
  verifyMode = mode;
  document.getElementById('tab-card').classList.toggle('active', mode==='card');
  document.getElementById('tab-dob').classList.toggle('active', mode==='dob');
  document.getElementById('field-card').classList.toggle('active', mode==='card');
  document.getElementById('field-dob').classList.toggle('active', mode==='dob');
  checkStep1();
}

function formatDob() {
  let v = document.getElementById('dob-input').value.replace(/\D/g,'');
  if (v.length>=3) v = v.substring(0,2)+'/'+v.substring(2);
  if (v.length>=6) v = v.substring(0,5)+'/'+v.substring(5,9);
  document.getElementById('dob-input').value = v;
}

function checkStep1() {
  const apt = document.getElementById('apt-input').value.trim();
  let verifyOk = false;
  if (verifyMode === 'card') {
    const card = document.getElementById('card-input').value.replace(/\D/g,'');
    verifyOk = card.length === 6;
  } else {
    const dob = document.getElementById('dob-input').value;
    verifyOk = /^\d{2}\/\d{2}\/\d{4}$/.test(dob);
  }
  document.getElementById('btn-1').disabled = !(apt.length > 0 && verifyOk);
  answers['apartment'] = apt;
}

function selectSingle(el, q) {
  document.getElementById('opts-'+q).querySelectorAll('.option').forEach(o=>o.classList.remove('selected'));
  el.classList.add('selected');
  answers['q'+q] = el.dataset.val;
  const btn = document.getElementById('btn-'+q);
  if(btn) btn.disabled = false;
}

function selectMulti(el, q, max) {
  const container = document.getElementById('opts-'+q);
  if(el.classList.contains('selected')) { el.classList.remove('selected'); }
  else { if(container.querySelectorAll('.option.selected').length < max) el.classList.add('selected'); }
  const sel = container.querySelectorAll('.option.selected');
  answers['q'+q] = Array.from(sel).map(o=>o.dataset.val).join(', ');
  const btn = document.getElementById('btn-'+q);
  if(btn) btn.disabled = sel.length === 0;
}

function selectMultiUnlimited(el, q) {
  if(el.dataset.val==='knew_none'||el.dataset.val==='nothing') { selectOnlyThis(el,q); return; }
  const container = document.getElementById('opts-'+q);
  container.querySelectorAll('.option').forEach(o=>{ if(o.dataset.val==='knew_none'||o.dataset.val==='nothing') o.classList.remove('selected'); });
  el.classList.toggle('selected');
  const sel = container.querySelectorAll('.option.selected');
  answers['q'+q] = Array.from(sel).map(o=>o.dataset.val).join(', ');
  const btn = document.getElementById('btn-'+q);
  if(btn) btn.disabled = sel.length===0;
}

function selectOnlyThis(el, q) {
  document.getElementById('opts-'+q).querySelectorAll('.option').forEach(o=>o.classList.remove('selected'));
  el.classList.add('selected');
  answers['q'+q] = el.dataset.val;
  const btn = document.getElementById('btn-'+q);
  if(btn) btn.disabled = false;
}

// Drag-to-rank
let dragSrc = null;
function initDrag() {
  document.querySelectorAll('.rank-item').forEach(item => {
    item.addEventListener('dragstart', e => { dragSrc = item; item.classList.add('dragging'); });
    item.addEventListener('dragend', e => { item.classList.remove('dragging'); updateRankNumbers(); });
    item.addEventListener('dragover', e => { e.preventDefault(); });
    item.addEventListener('drop', e => {
      e.preventDefault();
      if(dragSrc !== item) {
        const list = item.parentNode;
        const items = [...list.querySelectorAll('.rank-item')];
        const srcIdx = items.indexOf(dragSrc);
        const tgtIdx = items.indexOf(item);
        if(srcIdx < tgtIdx) list.insertBefore(dragSrc, item.nextSibling);
        else list.insertBefore(dragSrc, item);
        updateRankNumbers();
      }
    });
  });
}

function updateRankNumbers() {
  document.querySelectorAll('.rank-item').forEach((item,i) => {
    const num = item.querySelector('.rank-num');
    num.textContent = i+1;
    num.style.background = i < 3 ? '#1a6b8a' : '#e0e8f0';
    num.style.color = i < 3 ? 'white' : '#999';
  });
}

function saveRanking() {
  const items = document.querySelectorAll('.rank-item');
  const top3 = Array.from(items).slice(0,3).map(i=>i.dataset.val);
  answers['q7'] = top3.join(', ');
}

const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxT699OA5cO5pOYapWUrocKoR6pFlUsKtqoEBdo9iLvU1PzFyINR0gKqIchcSU9FsT_Ug/exec';

function submitSurvey() {
  saveRanking();
  const verifyVal = verifyMode === 'card'
    ? 'card:'+document.getElementById('card-input').value
    : 'dob:'+document.getElementById('dob-input').value;
  const payload = { ...answers, open_text: document.getElementById('open-text').value, timestamp: new Date().toISOString(), lang, verify: verifyVal };
  fetch(GOOGLE_SCRIPT_URL, { method:'POST', mode:'no-cors', headers:{'Content-Type':'application/json'}, body: JSON.stringify(payload) }).catch(()=>{});
  showStep(steps.length-1);
}

function submitLottery() {
  const email = document.getElementById('lottery-email').value;
  if(email) fetch(GOOGLE_SCRIPT_URL, { method:'POST', mode:'no-cors', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ apartment: answers['apartment'], lottery_email: email, timestamp: new Date().toISOString(), type:'lottery' }) }).catch(()=>{});
  document.getElementById('lottery-btn').textContent = '× ×¨×©××ª ×œ×”×’×¨×œ×” âœ“';
  document.getElementById('lottery-btn').disabled = true;
}

function setLang(l) {
  lang = l;
  document.querySelectorAll('.lang-btn').forEach(b=>b.classList.remove('active'));
  event.target.classList.add('active');
}

initDrag();
showStep(0);
</script>
</body>
</html>
